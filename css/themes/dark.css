/* ===== DARK.CSS ===== */
/* Версия: 7.0 — УЛЬТИМАТИВНАЯ ТЁМНАЯ ТЕМА */
/* Только переопределения, без дублирования */

body.dark-theme {
    /* ----- ОСНОВНЫЕ ЦВЕТА ----- */
    --primary: #ffffff;
    --primary-light: #f0f0f0;
    --accent: #FF9F4B;
    --accent-dark: #E67A4B;
    --accent-light: #4a2a1a;
    --accent-soft: #332018;
    --accent-gradient: linear-gradient(135deg, #FF9F4B, #E67A4B);
    
    /* ----- ФОНЫ ----- */
    --bg-light: #121212;
    --bg-white: #1e1e1e;
    --bg-card: #2d2d2d;
    --bg-hover: #2a2a2a;
    --bg-dark: #1a1a1a;
    --bg-dark-card: #2d2d2d;
    
    /* ----- ТЕКСТ ----- */
    --text-dark: #ffffff;
    --text-soft: #e0e0e0;
    --text-muted: #a0a0a0;
    --text-light: #ffffff;
    
    /* ----- ГРАНИЦЫ ----- */
    --border: #404040;
    --border-dark: #404040;
    --border-light: #333333;
    --border-soft: #3a3a3a;
    
    /* ----- СТАТУСЫ ----- */
    --success: #00d68f;
    --success-light: #1a3a2a;
    --warning: #ffb83d;
    --warning-light: #3a2e1a;
    --danger: #ff5c5c;
    --danger-light: #3a1a1a;
    --info: #4da6ff;
    --info-light: #1a2a3a;
    
    /* ----- ТЕНИ ----- */
    --shadow-sm: 0 4px 12px rgba(0,0,0,0.3);
    --shadow: 0 12px 30px rgba(0,0,0,0.5);
    --shadow-hover: 0 20px 40px rgba(230,122,75,0.3);
    --shadow-dark: 0 12px 30px rgba(0,0,0,0.8);
    --card-glow: 0 10px 30px -10px rgba(230,122,75,0.2);
    --card-glow-hover: 0 20px 40px -10px rgba(230,122,75,0.3);
    
    /* ----- КАРТОЧКИ ----- */
    --card-shadow: 0 10px 30px rgba(0,0,0,0.3);
    --card-shadow-hover: 0 20px 40px rgba(230,122,75,0.2);
}

/* Базовый фон */
body.dark-theme {
    background: linear-gradient(145deg, #121212 0%, #1a1a1a 100%);
    background-attachment: fixed;
}

/* Типография */
body.dark-theme h1,
body.dark-theme h2,
body.dark-theme h3,
body.dark-theme h4,
body.dark-theme h5,
body.dark-theme h6 {
    color: var(--text-dark);
}

body.dark-theme p {
    color: var(--text-soft);
}

body.dark-theme a {
    color: var(--accent);
}

body.dark-theme a:hover {
    color: var(--accent-dark);
}

/* Скроллбар */
body.dark-theme ::-webkit-scrollbar-track {
    background: var(--bg-dark);
}

body.dark-theme ::-webkit-scrollbar-thumb {
    background: var(--accent);
}

body.dark-theme {
    scrollbar-color: var(--accent) var(--bg-dark);
}

/* Bootstrap оверрайды */
body.dark-theme .bg-light {
    background-color: var(--bg-card) !important;
}

body.dark-theme .text-dark {
    color: var(--text-dark) !important;
}

body.dark-theme .border {
    border-color: var(--border) !important;
}

body.dark-theme .alert-success {
    background-color: var(--success-light);
    color: var(--success);
    border-color: var(--success-light);
}

body.dark-theme .alert-danger {
    background-color: var(--danger-light);
    color: var(--danger);
    border-color: var(--danger-light);
}

body.dark-theme .alert-warning {
    background-color: var(--warning-light);
    color: var(--warning);
    border-color: var(--warning-light);
}

body.dark-theme .alert-info {
    background-color: var(--info-light);
    color: var(--info);
    border-color: var(--info-light);
}

body.dark-theme .progress {
    background-color: var(--border);
}

body.dark-theme .list-group-item {
    background-color: var(--bg-card);
    border-color: var(--border);
    color: var(--text-soft);
}

body.dark-theme .dropdown-menu {
    background-color: var(--bg-card);
    border-color: var(--border);
}

body.dark-theme .dropdown-item {
    color: var(--text-soft);
}

body.dark-theme .dropdown-item:hover {
    background-color: var(--accent-light);
    color: var(--accent);
}

body.dark-theme .dropdown-divider {
    border-top-color: var(--border);
}

/* Яндекс.Карты */
body.dark-theme .ymaps-2-1-79-map {
    filter: brightness(0.8) contrast(1.2);
}

body.dark-theme .ymaps-2-1-79-balloon {
    background: var(--bg-card);
    color: var(--text-dark);
}

body.dark-theme .ymaps-2-1-79-balloon__content {
    color: var(--text-dark);
}

body.dark-theme .ymaps-2-1-79-balloon__close {
    background-color: var(--bg-card);
}

/* Анимации для тёмной темы */
@keyframes darkPulse {
    0% {
        box-shadow: 0 0 0 0 rgba(255,159,75,0.7);
    }
    70% {
        box-shadow: 0 0 0 15px rgba(255,159,75,0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(255,159,75,0);
    }
}

body.dark-theme .pulse {
    animation: darkPulse 2s infinite;
}